<!DOCTYPE html>
<html lang="de-CH">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		
        <link rel="stylesheet" type="text/css" href="style/master.css" />
        
        <title>Consilium</title>
    </head>
    <body id="app" style="display:none" >
    	
		<!-- HOME -->     
        <section id="homeId" class="view middle">
        
        	<header class="disappear">
        		<button id="addOptionen" class="button-text colorless">Sync
                <!-- <img src="img/icon/optionen.png" width="28"> -->
        		</button>
        		<h2>Consilium</h2>
        		<button id="addEingabe" class="button-text colorless">Start
                <!-- <img src="img/icon/plus.png" width="28"> -->
        		</button>
        	</header>
 	
 			<article id="homeContentId"></article>
      	
        </section>
               
        <!-- FAVORITES --> 
        <section id="favoritesId" class="view right">
        
        	<header>
        		<button id="favoritesBackButton" class="button-text colorless">Zurück
        		<!-- <img src="img/icon/left.png" width="28"> -->
        		</button>
        		<h2>Favoriten</h2>
                <button id="favoritesEditButton" class="button-text colorless">Ändern</button>
        	</header>
        	
        	<article id="favoritesContentId"></article>
        	 
        </section>
        
        <!-- FAVORITE --> 
        <section id="favoriteId" class="view right">
        
        	<header>
        		<button id="favoriteBackId" class="button-text colorless">Zurück</button>
        		<h2>Eingabe</h2>
        		<button id="favoriteEditId" class="button-text colorless" style="display:none">Edit</button>
        	</header>
        	
        	<article id="favoriteContentId"></article>
        	 
        </section>
        
        <!-- SYMPTOME --> 
        <section id="symptomeId" class="view right">
        
        	<header>
        		<button id="symptomeBackButton" class="button-text colorless">Zurück</button>
                <!-- <img src="img/icon/left.png" width="32"> -->
        		
        		<h2>Symptome</h2>
        	</header>
        	
        	<article id="symptomeContentId"></article>
        	 
        </section>
        
        <!-- TiPPS --> 
        <section id="tippId" class="view right">
        
        	<header>
        		<button id="tippBackButton" class="button-text colorless">Zurück</button>
        		<h2>Empfehlung</h2>
                <!-- <img src="img/icon/right.png" width="32"> -->
        	</header>
        	
        	<article id="tippContentId"></article>
        	 
        </section>
        
        <!-- OPTIONEN -->
        <section id="optionenId" class="view left">
        
        	<header>
        		<h2>Einstellung</h2>
        		<button id="optionenBackButton" class="button-text colorless">Zurück
        			<!-- <img src="img/icon/right.png" width="32"> -->
        		</button>
        	</header>
        	
        	<article id="optionenContentId" style="display:none"></article>
        	
        </section>
        <!-- <div class="iphone-toggle-buttons">   -->
		<!-- 	<label> -->
		<!--		<input type="checkbox"><span></span> -->
		<!--	</label> -->
		<!-- <b>Beschleunigung</b><br><i>plus 12 Stunden alle 30 Sek.</i> -->
		<!-- </div> -->
    </body>
   		<script type="text/javascript" src="cordova.js"></script> 			
		<script type="text/javascript" src="barcodescanner.js"></script> 	
<!--  	<script type="text/javascript" src="childbrowser.js"></script>  -->
<!-- 	<script type="text/javascript" src="GAPlugin.js"></script> 			-->		

   		<script type="text/javascript" charset="utf-8" src="code/plugins/sha256.js"></script>
   		<script type="text/javascript" charset="utf-8" src="code/plugins/aes.js"></script>

   		<script type="text/javascript" charset="utf-8" src="code/dom.js"></script>
   		<script type="text/javascript" charset="utf-8" src="code/model.js"></script>
   		<script type="text/javascript" charset="utf-8" src="code/commands.js"></script>
	
		<script type="text/javascript" charset="utf-8" src="code/plugins/svg.js"></script>
		<script type="text/javascript" charset="utf-8" src="code/plugins/agent.js"></script>
		<script type="text/javascript" charset="utf-8" src="code/plugins/assets.js"></script>

   		<script type="text/javascript" charset="utf-8">

   			var app = {
   					/**
   					* INSTANTIATE COMMANDS WITH PROPERTIES (IDs of ELEMENTS) 
   					* AND BIND TO EVENTS. PROPERTIES PERSIST OVER TIME.
   					**/
   					addCommands: function()
   					{
   						addCommand( Events.CHANGE_VIEW, changeViewCommand ); 	
   						addCommand( Events.TAP_HANDLER, tapHandlerCommand ); 		  						
   						addCommand( Events.START, startCommand ); 		  						
   						addCommand( Events.MODEL_FROM_STORAGE, modelFromStorageCommand ); 		  						
   						addCommand( Events.SYNC, syncCommand ); 		  						
   						
   						addCommand( Events.INFO_START, infoStartCommand );
   						
   						addCommand( Events.HOME_INIT, homeInitCommand, { id:"homeContentId", sync: "addOptionen", start:"addEingabe" ,intro: "rahmen", verlauf:"homeVerlauf"} ); 	
   						addCommand( Events.HOME_INTRO, homeIntroCommand, { id:"homeContentId" } ); 	
   						addCommand( Events.HOME_VERLAUF, homeVerlaufCommand, { id:"homeContentId", scroller:"homeScrollerId"} ); 	
   						addCommand( Events.HOME_VERLAUF_SELECTED, homeVerlaufSelectedCommand, { legend:"homeAuswahlLegend", info:"homeAuswahlInfo"} ); 	
   						addCommand( Events.HOME_EXIT, homeExitCommand ); 	
   						addCommand( Events.HOME_TO_OPTIONEN, changeViewCommand,{ from: "homeId", to:"optionenId", direction:"right" }  );
   						addCommand( Events.HOME_TO_FAVORITES, changeViewCommand,{ from:"homeId", to:"favoritesId", direction:"left" } );					
   						addCommand( Events.HOME_TO_FAVORITE, changeViewCommand,{ from:"homeId", to:"favoriteId", direction:"left" } );					
   						
   						addCommand( Events.TIPPS_SHOW, tippsShowCommand ); 	
   						addCommand( Events.TIPPS_SELECTED, tippsSelectedCommand ); 	
   						addCommand( Events.TIPP_INIT, tippInitCommand, { id:"tippContentId"} ); 	
   						addCommand( Events.TIPP_LIKED, tippLikedCommand ); 	
   						addCommand( Events.TIPP_EXIT, tippExitCommand ); 	
   						/* BACK */
   						addCommand( Events.TIPP_TO_FAVORITE, changeViewCommand,{ from:"tippId", to:"favoriteId", direction:"right" } ); 	
   
   						addCommand( Events.OPTIONEN_INIT, optionenInitCommand, { id:"optionenContentId"} ); 	
   						addCommand( Events.SCAN, scanCommand); 	
   						addCommand( Events.SCAN_RESULT, scanResultCommand); 	
   						addCommand( Events.OPTIONEN_TO_HOME, changeViewCommand, { from:"optionenId", to:"homeId", direction:"left" } ); 	
   						
   						addCommand( Events.SYMPTOME_INIT, symptomeInitCommand, { id:"symptomeContentId" }); 	
   						addCommand( Events.SYMPTOME_EXIT, symptomeExitCommand ); 	
   						addCommand( Events.SYMPTOME_TO_FAVORITES, changeViewCommand, { from:"symptomeId", to:"favoritesId", direction:"right" } ); 	
   						  						
   						addCommand( Events.FAVORITES_INIT, favoritesInitCommand, { id:"favoritesContentId" } ); 	
   						addCommand( Events.FAVORITES_TO_HOME, changeViewCommand, { from:"favoritesId", to:"homeId", direction:"right" } ); 	
   						addCommand( Events.FAVORITES_TO_FAVORITE, changeViewCommand, { from:"favoritesId", to:"favoriteId", direction:"left" } ); 	
   						addCommand( Events.FAVORITES_TO_SYMPTOME, changeViewCommand, { from:"favoritesId", to:"symptomeId", direction:"left" } ); 	
   						addCommand( Events.FAVORITES_ROW, favoritesRowCommand); 	
   						addCommand( Events.FAVORITES_ITEM, favoritesItemCommand); 	
   						addCommand( Events.FAVORITES_EDIT, favoritesEditCommand); 	
   						addCommand( Events.FAVORITES_DELETE, favoritesDeleteCommand); 	
   						addCommand( Events.FAVORITES_CHANGE, favoritesChangeCommand, { editButton:"favoritesEditButton", backButton:"favoritesBackButton" }); 	

   						addCommand( Events.FAVORITE_INIT, favoriteInitCommand, { id : "favoriteContentId", edit:"favoriteEditId"} ); 		
   						addCommand( Events.FAVORITE_CHANGE, favoriteChangeCommand, { id : "favoriteEditId" } );
   						addCommand( Events.FAVORITE_TEXT_CHANGE, favoriteTextChangeCommand); 	   						
   						addCommand( Events.FAVORITE_BACK, favoriteExitCommand, { type: "back"} );
   						addCommand( Events.FAVORITE_SAVE, favoriteExitCommand, { type: "save"} );
   						addCommand( Events.FAVORITE_DELETE, favoriteExitCommand, { type: "delete"} );
   						/* BACK */
   						addCommand( Events.FAVORITE_TO_FAVORITES, changeViewCommand, { from:"favoriteId", to:"favoritesId", direction:"right" }); 
   						addCommand( Events.FAVORITE_TO_HOME, changeViewCommand, { from:"favoriteId", to:"homeId", direction:"right" }); 	
   						/* GO */
   						addCommand( Events.FAVORITE_TO_TIPP, changeViewCommand, { from:"favoriteId", to:"tippId", direction:"left" }); 	
   					},				
   					/**
   					* BIND TO EVENT LISTENERS OF ELEMENTS. IF EVENT EXECUTE COMMAND  
  					* WITH EVENT DATA. COMMANDS HAVE ACCESS TO MODEL AND PROPERTIES.
   					*/
   					bind: function() 
   					{
   						// HOME
   						DOM("homeId").onStage( Events.HOME_INIT ); 
   						DOM("addOptionen").onTouch( Events.HOME_TO_OPTIONEN );
   						DOM("addEingabe").onTouch( Events.HOME_TO_FAVORITES );
   						
   						// OPTIONEN
   						DOM("optionenId").onStage( Events.OPTIONEN_INIT ); 
   						DOM("optionenBackButton").onTouch( Events.OPTIONEN_TO_HOME );
   						
   						// FAVORITES
   						DOM("favoritesId").onStage( Events.FAVORITES_INIT ); 
   						DOM("favoritesBackButton").onTouch( Events.FAVORITES_TO_HOME ); 
   						DOM("favoritesEditButton").onTouch( Events.FAVORITES_CHANGE ); 						
   						
   						// FAVORITE
   						DOM("favoriteId").onStage( Events.FAVORITE_INIT ); 
   						DOM("favoriteBackId").onTouch( Events.FAVORITE_BACK );
   						DOM("favoriteEditId").onTouch( Events.FAVORITE_CHANGE );

   						// SYMPTOME
   						DOM("symptomeId").onStage( Events.SYMPTOME_INIT ); 
   						DOM("symptomeBackButton").onTouch( Events.SYMPTOME_TO_FAVORITES );
   						
   						// TIPP
   						DOM("tippId").onStage( Events.TIPP_INIT ); 
   						DOM("tippBackButton").onTouch( Events.TIPP_EXIT );
   						
   						// START DESKTOP OR DEVICE
   						// DOM().onDOM( Events.START )
   						// PHONEGAP
   						DOM().onDevice( Events.START );

   					},
   					initialize:function() 
   					{
   						this.addCommands();
   						
   						this.bind();		
   					}
   			};

   			app.initialize();
   			
   			console.log( zeit() );
   			
   			// var encrypted = CryptoJS.HmacSHA256("raw", "secret");

   		</script>
</html>
