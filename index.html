<!DOCTYPE html>
<html lang="de-CH">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, target-densitydpi=device-dpi" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		
        <link rel="stylesheet" type="text/css" href="style/master.css" />
        
        <title>Consilium</title>
    </head>
    <body id="app" >
    	
		<!-- HOME -->     
        <section id="homeId" class="view middle">
        
        	<header>
        		<button id="addOptionen" class="button colorless">
        			<img src="img/icon/optionen.png" width="32">
        		</button>
        		<h2>Consilium</h2>
        		<button id="addEingabe" class="button colorless">
        			<img src="img/icon/plus.png" width="32">
        		</button>
        	</header>
 	
 			<article id="homeContentId" >
 			
	        	<div id="homeVerlauf">
	        		<div id="chart" class="chart">
						<div id="scrollerId" class="scrollableX">
							<svg id="chartSVG"></svg>
						</div>
	        		</div>
	        		<form id="homeAuswahl">
	        			<fieldset>
	        				<legend id="homeAuswahlLegend"></legend>
	        				<div id="homeAuswahlInfo"></div>
	        			</fieldset>
	        		</form>
                    <div class="slider" onclick="clicker(event)">
                        <a href="#" id="oimel" class="grey" ondragstart="dragStart(event)" ondrag="drag(event)" ></a>

                    </div>
	        	</div>
        	
	        	<div id="rahmen" style="display:none" class="intro">
	        		 <p>Liebe Patientin</p>
	        		<p style="margin:20px; text:justify;">Liebe Patientin<br/>
	                    Die App dient Ihnen als persönliches Logbuch für Ihr Wohlbefinden während der medizinischen Therapie.
	                    Wir empfehlen die App tägliche zu nutzen. Rückwirkend kann für maximal drei Tage ihre Bewertung nachgetragen werden. Sollte die Eingabe länger unterbrochen werden, beginnt die Verbindungslinie neu. Erweitern Sie Ihre Auswahlliste nach Bedarf durch Ergänzung weiterer Symptome. Die Eingaben werden erst am folgenden Tag im Graphen sichtbar.
	                </p>
	    			<button id="plusZeit" class="button blue" style="width:200px; height:40px">Start</button>
	    			<p></p>
	        	</div>
        	
        	</article>
        	
        </section>
               
        <!-- EINGABE --> 
        <section id="eingabeId" class="view right">
        
        	<header>
        		<button id="eingabeBackButton" class="button colorless">
        			<img src="img/icon/left.png" width="32">
        		</button>
        		<h2>Favoriten</h2>
                <button id="eingabeEditButton" style="padding-left:10px;padding-right:10px;font-size:110%" class="button colorless">Edit</button>
        	</header>
        	
        	<article id="eingabeContentId">
                <div style="height:40px;">
                	<button class="action-button grey" style="position:absolute; top:1%; left:1%; height:36px">Heute</button>
	                <input id="datum" style="position:absolute; top:1%; right:1%;" type="date" min="2013-03-01" class="action-button grey"/>
                </div>
                
        		<form> 		
                    <fieldset>
        				<legend id="eingabeAuswahlLegend">Bewertung</legend>
        				<div id="eingabeAuswahlInfo">
        					<span style="position:absolute; top:-3px; right:0; font-size:130%;">48%</span>
        					<span><b>Subjektives Wohlbefinden</b></span>
        					<p style="width:100%;font-size:90%;margin:1px"><i>Zuletzt: 2013-01-27 14:55</i></p>
        					<p style="width:100%;padding-top:5px">Nur begrenzte Selbstversorung möglich.</p>
        					<input type="range" value="20" style="margin-bottom:20px" >
        					<div style="position:relative;width:100%">
	        					<button class="action-button grey">Abbrechen</button>
	        					<button class="action-button red" style="float:right">Save</button>
        					</div>
        				</div>
                    </fieldset>
        		</form>
                
                <form> 		
                    <fieldset>
                        <legend>Symptome</legend>
                         <button id="addSymptome" style="position:absolute; top:10px; right:5px; font-size:120%;display:none" class="action-button blue">+</button>     
             				<div id="eingabeAuswahlInfo">
        					<span style="position:absolute; top:-3px; right:0; font-size:130%;">60%</span>
        					<span><b>Erbrechen</b></span>
        					<p style="width:100%;font-size:90%;margin:1px"><i>Zuletzt: 2013-01-27 14:55</i></p>
        					<p style="width:100%;padding-top:5px">Mehrmals Erbrechen am Tag.</p>
        					<input type="range" style="margin-bottom:20px" value="40" >
<!--         					<div style="position:relative;width:100%;padding-top:20px"> -->
<!-- 	        					<button class="action-button grey">Abbrechen</button> -->
<!-- 	        					<button class="action-button red" style="float:right">Save</button> -->
<!--         					</div> -->
        				</div>
                    </fieldset>
                </form>
                
        	</article>
        	 
        </section>
        
        <!-- SYMPTOME --> 
        <section id="symptomeId" class="view right">
        
        	<header>
        		<button id="symptomeBackButton" class="button colorless">
        			<img src="img/icon/left.png" width="32">
        		</button>
        		<h2>Symptome</h2>
        	</header>
        	
        	<article id="symptomeContentId">
        		
        		<ul id="symptomeListeId" class="liste"></ul>

        	</article>
        	 
        </section>
        
        <!-- OPTIONEN -->
        <section id="optionenId" class="view left">
        
        	<header>
        		<h2>Optionen</h2>
        		<button id="optionenBackButton" class="button colorless">
        			<img src="img/icon/right.png" width="32">
        		</button>
        	</header>
        	
        	<article id="optionenContentId" style="display:none">
        		<form>
        			<fieldset id="connectId">
        				<legend>Connect</legend>
	        			
        				<div>
        					<p>Bitte Scannen Sie den QR-Code, um sich mit dem Studienzentrum zu verbinden.</p>
        					<button id="scannerId" class="action-button blue">SCANNEN</button>
        				</div>
<!--         				<div class="iphone-toggle-buttons">   						 -->
<!--         					<label> -->
<!--         						<input type="checkbox"><span></span> -->
<!--         					</label> -->
<!--         					<b>Beschleunigung</b><br><i>plus 12 Stunden alle 30 Sek.</i> -->
<!--         				</div> -->
  	
        			</fieldset>
        		</form>
        	</article>
        	
        </section>
        
    </body>
<!--    <script type="text/javascript" src="cordova.js"></script> 			-->
<!-- 	<script type="text/javascript" src="barcodescanner.js"></script> 	-->
<!-- 	<script type="text/javascript" src="childbrowser.js"></script> 		-->
<!-- 	<script type="text/javascript" src="GAPlugin.js"></script> 			-->		

   		<script type="text/javascript" charset="utf-8" src="code/dom.js"></script>
   		<script type="text/javascript" charset="utf-8" src="code/model.js"></script>
   		<script type="text/javascript" charset="utf-8" src="code/commands.js"></script>
	
		<script type="text/javascript" charset="utf-8" src="code/plugins/svg.js"></script>
		<script type="text/javascript" charset="utf-8" src="code/plugins/assets.js"></script>

   		<script type="text/javascript" charset="utf-8">

   			var app = {
   					// CommandCenter
   					addCommands: function()
   					{
   						addCommand( Events.CHANGE_VIEW, changeViewCommand ); 	
   						
   						addCommand( Events.INIT_HOME, initHomeCommand, { id:"homeContentId", intro: "rahmen", verlauf:"homeVerlauf"}); 	
   						addCommand( Events.INIT_OPTIONEN, initOptionenCommand); 	
   						addCommand( Events.INIT_SYMPTOME, initSymptomeCommand); 	
   						addCommand( Events.INIT_EINGABE, initEingabeCommand); 	
   						
   						addCommand( Events.EDIT_EINGABE, editEingabeCommand); 	
   						addCommand( Events.REFRESH_CHART, refreshChartCommand, { chart:"chartSVG"} ); 	
   						addCommand( Events.SHOW_AUSWAHL, showAuswahlCommand, { legend:"homeAuswahlLegend", info:"homeAuswahlInfo"} ); 	
   						addCommand( Events.SYMPTOME_SELECTED, symptomSelectedCommand ); 	
   						addCommand( Events.SCAN, scanCommand); 	
   					},				
   					// EventListener
   					bind: function() 
   					{
   						DOM("homeId").onStage( "initHome", { id:"homeContentId", intro: "rahmen", verlauf:"homeVerlauf"}  ); 
   						DOM("addOptionen").onTouch( Events.CHANGE_VIEW, { from: "homeId", to:"optionenId", direction:"right" } );
   						DOM("addEingabe").onTouch( Events.CHANGE_VIEW, { from:"homeId", to:"eingabeId", direction:"left" } );

   						DOM("optionenId").onStage( "initOptionen", { id:"optionenContentId"} ); 
   						DOM("optionenBackButton").onTouch( Events.CHANGE_VIEW, { from:"optionenId", to:"homeId", direction:"left" } );

   						DOM("symptomeId").onStage( "initSymptome", { id:"symptomeContentId", liste:"symptomeListeId"} ); 
   						DOM("symptomeBackButton").onTouch( Events.CHANGE_VIEW, { from:"symptomeId", to:"eingabeId", direction:"right" } );
   						
   						DOM("eingabeId").onStage( "initEingabe", { id:"eingabeContentId"} ); 
   						DOM("eingabeBackButton").onTouch( Events.CHANGE_VIEW, { from:"eingabeId", to:"homeId", direction:"right" } ); 
   						DOM("eingabeEditButton").onTouch( Events.EDIT_EINGABE ); 
   						DOM("addSymptome").onTouch( Events.CHANGE_VIEW, { from:"eingabeId", to:"symptomeId", direction:"left" } );

   						DOM("scannerId").onTouch( "scan", {} );
   					},
   					initialize:function() 
   					{
   						this.addCommands();
   						
   						this.bind();		
   						
   						dispatchCommand( "initHome" );
   					}
   			};
   			function clicker(event)
            {
                console.log(event);
                document.getElementById("oimel").style.left = event.offsetX +"px";
            }
            
            function dragStart(event) {
                console.log("start");
            }
            
            function drag(event) {
                console.log(event);
                event.target.style.left = "100px";
            }
            
   			app.initialize();
   		</script>
</html>
