var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes,this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*f,e=a.min(4*b,e);if(b){for(var i=0;i<b;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new m.HMAC.init(a,c)).finalize(b)}}});var m=c.algo={};return c}(Math);(function(a){for(var b=CryptoJS,c=b.lib,d=c.WordArray,e=c.Hasher,c=b.algo,f=[],g=[],h=function(a){return 4294967296*(a-(a|0))|0},i=2,j=0;64>j;){var k;a:{k=i;for(var l=a.sqrt(k),m=2;m<=l;m++)if(!(k%m)){k=!1;break a}k=!0}k&&(8>j&&(f[j]=h(a.pow(i,.5))),g[j]=h(a.pow(i,1/3)),j++),i++}var n=[],c=c.SHA256=e.extend({_doReset:function(){this._hash=new d.init(f.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],e=c[1],f=c[2],h=c[3],i=c[4],j=c[5],k=c[6],l=c[7],m=0;64>m;m++){if(16>m)n[m]=a[b+m]|0;else{var o=n[m-15],p=n[m-2];n[m]=((o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3)+n[m-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+n[m-16]}o=l+((i<<26|i>>>6)^(i<<21|i>>>11)^(i<<7|i>>>25))+(i&j^~i&k)+g[m]+n[m],p=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&e^d&f^e&f),l=k,k=j,j=i,i=h+o|0,h=f,f=e,e=d,d=o+p|0}c[0]=c[0]+d|0,c[1]=c[1]+e|0,c[2]=c[2]+f|0,c[3]=c[3]+h|0,c[4]=c[4]+i|0,c[5]=c[5]+j|0,c[6]=c[6]+k|0,c[7]=c[7]+l|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;return c[e>>>5]|=128<<24-e%32,c[(e+64>>>9<<4)+14]=a.floor(d/4294967296),c[(e+64>>>9<<4)+15]=d,b.sigBytes=4*c.length,this._process(),this._hash},clone:function(){var a=e.clone.call(this);return a._hash=this._hash.clone(),a}});b.SHA256=e._createHelper(c),b.HmacSHA256=e._createHmacHelper(c)})(Math),function(){var a=CryptoJS,b=a.enc.Utf8;a.algo.HMAC=a.lib.Base.extend({init:function(a,c){a=this._hasher=new a.init,"string"==typeof c&&(c=b.parse(c));var d=a.blockSize,e=4*d;c.sigBytes>e&&(c=a.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),g=this._iKey=c.clone(),h=f.words,i=g.words,j=0;j<d;j++)h[j]^=1549556828,i[j]^=909522486;f.sigBytes=g.sigBytes=e,this.reset()},reset:function(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function(a){return this._hasher.update(a),this},finalize:function(a){var b=this._hasher;return a=b.finalize(a),b.reset(),b.finalize(this._oKey.clone().concat(a))}})}(),function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp(),a=[];for(var e=0;e<c;e+=3)for(var f=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,g=0;4>g&&e+.75*g<c;g++)a.push(d.charAt(f>>>6*(3-g)&63));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var c=a.length,d=this._map,e=d.charAt(64);e&&(e=a.indexOf(e),-1!=e&&(c=e));for(var e=[],f=0,g=0;g<c;g++)if(g%4){var h=d.indexOf(a.charAt(g-1))<<2*(g%4),i=d.indexOf(a.charAt(g))>>>6-2*(g%4);e[f>>>2]|=(h|i)<<24-8*(f%4),f++}return b.create(e,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();
var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes,this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16)),c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*f,e=a.min(4*b,e);if(b){for(var i=0;i<b;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new m.HMAC.init(a,c)).finalize(b)}}});var m=c.algo={};return c}(Math);(function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,c=a.sigBytes,d=this._map;a.clamp(),a=[];for(var e=0;e<c;e+=3)for(var f=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,g=0;4>g&&e+.75*g<c;g++)a.push(d.charAt(f>>>6*(3-g)&63));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var c=a.length,d=this._map,e=d.charAt(64);e&&(e=a.indexOf(e),-1!=e&&(c=e));for(var e=[],f=0,g=0;g<c;g++)if(g%4){var h=d.indexOf(a.charAt(g-1))<<2*(g%4),i=d.indexOf(a.charAt(g))>>>6-2*(g%4);e[f>>>2]|=(h|i)<<24-8*(f%4),f++}return b.create(e,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),function(a){function b(a,b,c,d,e,f,g){return a=a+(b&c|~b&d)+e+g,(a<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){return a=a+(b&d|c&~d)+e+g,(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return a=a+(b^c^d)+e+g,(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return a=a+(c^(b|~d))+e+g,(a<<f|a>>>32-f)+b}for(var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,g=f.algo,j=[],k=0;64>k;k++)j[k]=4294967296*a.abs(a.sin(k+1))|0;g=g.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var g=this._hash.words,h=a[f+0],i=a[f+1],k=a[f+2],m=a[f+3],n=a[f+4],o=a[f+5],q=a[f+6],r=a[f+7],t=a[f+8],u=a[f+9],v=a[f+10],w=a[f+11],x=a[f+12],y=a[f+13],z=a[f+14],A=a[f+15],B=g[0],C=g[1],D=g[2],E=g[3],B=b(B,C,D,E,h,7,j[0]),E=b(E,B,C,D,i,12,j[1]),D=b(D,E,B,C,k,17,j[2]),C=b(C,D,E,B,m,22,j[3]),B=b(B,C,D,E,n,7,j[4]),E=b(E,B,C,D,o,12,j[5]),D=b(D,E,B,C,q,17,j[6]),C=b(C,D,E,B,r,22,j[7]),B=b(B,C,D,E,t,7,j[8]),E=b(E,B,C,D,u,12,j[9]),D=b(D,E,B,C,v,17,j[10]),C=b(C,D,E,B,w,22,j[11]),B=b(B,C,D,E,x,7,j[12]),E=b(E,B,C,D,y,12,j[13]),D=b(D,E,B,C,z,17,j[14]),C=b(C,D,E,B,A,22,j[15]),B=c(B,C,D,E,i,5,j[16]),E=c(E,B,C,D,q,9,j[17]),D=c(D,E,B,C,w,14,j[18]),C=c(C,D,E,B,h,20,j[19]),B=c(B,C,D,E,o,5,j[20]),E=c(E,B,C,D,v,9,j[21]),D=c(D,E,B,C,A,14,j[22]),C=c(C,D,E,B,n,20,j[23]),B=c(B,C,D,E,u,5,j[24]),E=c(E,B,C,D,z,9,j[25]),D=c(D,E,B,C,m,14,j[26]),C=c(C,D,E,B,t,20,j[27]),B=c(B,C,D,E,y,5,j[28]),E=c(E,B,C,D,k,9,j[29]),D=c(D,E,B,C,r,14,j[30]),C=c(C,D,E,B,x,20,j[31]),B=d(B,C,D,E,o,4,j[32]),E=d(E,B,C,D,t,11,j[33]),D=d(D,E,B,C,w,16,j[34]),C=d(C,D,E,B,z,23,j[35]),B=d(B,C,D,E,i,4,j[36]),E=d(E,B,C,D,n,11,j[37]),D=d(D,E,B,C,r,16,j[38]),C=d(C,D,E,B,v,23,j[39]),B=d(B,C,D,E,y,4,j[40]),E=d(E,B,C,D,h,11,j[41]),D=d(D,E,B,C,m,16,j[42]),C=d(C,D,E,B,q,23,j[43]),B=d(B,C,D,E,u,4,j[44]),E=d(E,B,C,D,x,11,j[45]),D=d(D,E,B,C,A,16,j[46]),C=d(C,D,E,B,k,23,j[47]),B=e(B,C,D,E,h,6,j[48]),E=e(E,B,C,D,r,10,j[49]),D=e(D,E,B,C,z,15,j[50]),C=e(C,D,E,B,o,21,j[51]),B=e(B,C,D,E,x,6,j[52]),E=e(E,B,C,D,m,10,j[53]),D=e(D,E,B,C,v,15,j[54]),C=e(C,D,E,B,i,21,j[55]),B=e(B,C,D,E,t,6,j[56]),E=e(E,B,C,D,A,10,j[57]),D=e(D,E,B,C,q,15,j[58]),C=e(C,D,E,B,y,21,j[59]),B=e(B,C,D,E,n,6,j[60]),E=e(E,B,C,D,w,10,j[61]),D=e(D,E,B,C,k,15,j[62]),C=e(C,D,E,B,u,21,j[63]);g[0]=g[0]+B|0,g[1]=g[1]+C|0,g[2]=g[2]+D|0,g[3]=g[3]+E|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296);c[(e+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,c[(e+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,b.sigBytes=4*(c.length+1),this._process(),b=this._hash,c=b.words;for(d=0;4>d;d++)e=c[d],c[d]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;return b},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),f.MD5=i._createHelper(g),f.HmacMD5=i._createHmacHelper(g)}(Math),function(){var a=CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,b=a.algo,e=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,e=c.hasher.create(),f=d.create(),g=f.words,h=c.keySize,c=c.iterations;g.length<h;){i&&e.update(i);var i=e.update(a).finalize(b);e.reset();for(var j=1;j<c;j++)i=e.finalize(i),e.reset();f.concat(i)}return f.sigBytes=4*h,f}});a.EvpKDF=function(a,b,c){return e.create(c).compute(a,b)}}(),CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,d=c.Base,e=c.WordArray,f=c.BufferedBlockAlgorithm,g=b.enc.Base64,h=b.algo.EvpKDF,i=c.Cipher=f.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){return a&&this._append(a),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,d){return("string"==typeof c?o:n).encrypt(a,b,c,d)},decrypt:function(b,c,d){return("string"==typeof c?o:n).decrypt(a,b,c,d)}}}});c.StreamCipher=i.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var j=b.mode={},k=function(b,c,d){var e=this._iv;e?this._iv=a:e=this._prevBlock;for(var f=0;f<d;f++)b[c+f]^=e[f]},l=(c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}})).extend();l.Encryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize;k.call(this,a,b,d),c.encryptBlock(a,b),this._prevBlock=a.slice(b,b+d)}}),l.Decryptor=l.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=a.slice(b,b+d);c.decryptBlock(a,b),k.call(this,a,b,d),this._prevBlock=e}}),j=j.CBC=l,l=(b.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,f=[],g=0;g<c;g+=4)f.push(d);c=e.create(f,c),a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}},c.BlockCipher=i.extend({cfg:i.cfg.extend({mode:j,padding:l}),reset:function(){i.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var m=c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),j=(b.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;return a=a.salt,(a?e.create([1398893684,1701076831]).concat(a).concat(b):b).toString(g)},parse:function(a){a=g.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=e.create(b.slice(2,4));b.splice(0,4),a.sigBytes-=16}return m.create({ciphertext:a,salt:c})}},n=c.SerializableCipher=d.extend({cfg:d.extend({format:j}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);return b=e.finalize(b),e=e.cfg,m.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),b=(b.kdf={}).OpenSSL={execute:function(a,b,c,d){return d||(d=e.random(8)),a=h.create({keySize:b+c}).compute(a,d),c=e.create(a.words.slice(b),4*c),a.sigBytes=4*b,m.create({key:a,iv:c,salt:d})}},o=c.PasswordBasedCipher=n.extend({cfg:n.cfg.extend({kdf:b}),encrypt:function(a,b,c,d){return d=this.cfg.extend(d),c=d.kdf.execute(c,a.keySize,a.ivSize),d.iv=c.iv,a=n.encrypt.call(this,a,b,c.key,d),a.mixIn(c),a},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt),d.iv=c.iv,n.decrypt.call(this,a,b,c.key,d)}})}(),function(){for(var a=CryptoJS,b=a.lib.BlockCipher,c=a.algo,d=[],e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[],o=0;256>o;o++)n[o]=128>o?o<<1:o<<1^283;for(var p=0,q=0,o=0;256>o;o++){var r=q^q<<1^q<<2^q<<3^q<<4,r=r>>>8^r&255^99;d[p]=r,e[r]=p;var s=n[p],t=n[s],u=n[t],v=257*n[r]^16843008*r;f[p]=v<<24|v>>>8,g[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,i[p]=v,v=16843009*u^65537*t^257*s^16843008*p,j[r]=v<<24|v>>>8,k[r]=v<<16|v>>>16,l[r]=v<<8|v>>>24,m[r]=v,p?(p=s^n[n[n[u^s]]],q^=n[n[q]]):p=q=1}var w=[0,1,2,4,8,16,32,64,128,27,54],c=c.AES=b.extend({_doReset:function(){for(var a=this._key,b=a.words,c=a.sigBytes/4,a=4*((this._nRounds=c+6)+1),e=this._keySchedule=[],f=0;f<a;f++)if(f<c)e[f]=b[f];else{var g=e[f-1];f%c?6<c&&4==f%c&&(g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[g&255]):(g=g<<8|g>>>24,g=d[g>>>24]<<24|d[g>>>16&255]<<16|d[g>>>8&255]<<8|d[g&255],g^=w[f/c|0]<<24),e[f]=e[f-c]^g}b=this._invKeySchedule=[];for(c=0;c<a;c++)f=a-c,g=c%4?e[f]:e[f-4],b[c]=4>c||4>=f?g:j[d[g>>>24]]^k[d[g>>>16&255]]^l[d[g>>>8&255]]^m[d[g&255]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,f,g,h,i,d)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,j,k,l,m,e),c=a[b+1],a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,d,e,f,g,h){for(var i=this._nRounds,j=a[b]^c[0],k=a[b+1]^c[1],l=a[b+2]^c[2],m=a[b+3]^c[3],n=4,o=1;o<i;o++)var p=d[j>>>24]^e[k>>>16&255]^f[l>>>8&255]^g[m&255]^c[n++],q=d[k>>>24]^e[l>>>16&255]^f[m>>>8&255]^g[j&255]^c[n++],r=d[l>>>24]^e[m>>>16&255]^f[j>>>8&255]^g[k&255]^c[n++],m=d[m>>>24]^e[j>>>16&255]^f[k>>>8&255]^g[l&255]^c[n++],j=p,k=q,l=r;p=(h[j>>>24]<<24|h[k>>>16&255]<<16|h[l>>>8&255]<<8|h[m&255])^c[n++],q=(h[k>>>24]<<24|h[l>>>16&255]<<16|h[m>>>8&255]<<8|h[j&255])^c[n++],r=(h[l>>>24]<<24|h[m>>>16&255]<<16|h[j>>>8&255]<<8|h[k&255])^c[n++],m=(h[m>>>24]<<24|h[j>>>16&255]<<16|h[k>>>8&255]<<8|h[l&255])^c[n++],a[b]=p,a[b+1]=q,a[b+2]=r,a[b+3]=m},keySize:8});a.AES=b._createHelper(c)}();
function Controller(){}function Command(a,b){this.callback=a,this.model=new Model,this.properties=b}function dispatchCommand(a,b){controller.dispatchCommand(a,b)}function removeCommand(a,b){controller.removeCommand(a,b)}function addCommand(a,b,c){controller.addCommand(a,b,c)}Controller.prototype.commands={},Controller.prototype.addCommand=function(a,b,c){this.commands[a]||(this.commands[a]=new Command(b,c))},Controller.prototype.removeCommand=function(a,b){delete this.commands[a]},Controller.prototype.dispatchCommand=function(a,b){app.debug&&this.commands[a].callback.name!="tapHandlerCommand"&&console.log(app.context,this.commands[a].callback.name,b),this.commands[a]?this.commands[a].execute(b):console.log("Command "+a+" not registered")},Command.prototype.execute=function(a){this.callback(a||{})};var controller=new Controller;
HTMLElement.prototype.setClass=function(a){this.className=a},HTMLElement.prototype.setAttri=function(a){for(var b in a)this.setAttribute(b,a[b])},HTMLElement.prototype.setStyle=function(a){for(var b in a)this.style[b]=a[b]},HTMLElement.prototype.setStylePrefix=function(a,b){this.style[a]=b;var c=["webkit","Moz","ms","O"];for(var d=c.length;d--;)this.style[c[d]+a[0].toUpperCase()+a.slice(1)]=b},Array.prototype.sortABC=function(a){this.sort(function(b,c){var d=b[a].replace(/Ö/,"Oe").replace(/Ä/,"Ae").replace(/Ü/,"Ue"),e=c[a].replace(/Ö/,"Oe").replace(/Ä/,"Ae").replace(/Ü/,"Ue");return d<e?-1:d>e?1:0})},Array.prototype.sort123=function(a){this.sort(function(b,c){return c[a]-b[a]})},Array.prototype.notIn=function(a,b){return this.filter(function(c){var d=!0;for(var e=0;e<b.length;e++)c[a]==b[e][a]&&(d=!1);return d})},Array.prototype.getObjectInArray=function(a,b){for(var c=0;c<this.length;c++)if(this[c][a]==b)return this[c];return null},Array.prototype.changeItem=function(a,b,c){var d=!1;for(var e=0;e<this.length;e++)this[e]["id"]==a&&(this[e][b]=c,d=!0);return d};
function zeit(a,b){var c=b?new Date(b):new Date,d=c.getMilliseconds()<10?"0"+c.getMilliseconds():c.getMilliseconds(),e=c.getSeconds()<10?"0"+c.getSeconds():c.getSeconds(),f=c.getMinutes()<10?"0"+c.getMinutes():c.getMinutes(),g=c.getHours()<10?"0"+c.getHours():c.getHours(),h=c.getDate()<10?"0"+c.getDate():c.getDate(),i=c.getMonth()<9?"0"+(c.getMonth()+1):c.getMonth()+1,j=c.getFullYear();a=="yyyy-MM-dd"&&console.log(j+"-"+i+"-"+h);switch(a){case"yyyy-MM-ddThh:mm.ss.ms":return j+"-"+i+"-"+h+"T"+g+":"+f+":"+e+"."+d;case"yyyy-MM-dd":return j+"-"+i+"-"+h;case"dd.mm.yyyy hh:mm":return h+"."+i+"."+j+" "+g+":"+f;case"dd.MM.yyyy hh:mm":return h+"."+i+"."+j+" "+g+":"+f;case"dd.mm.yyyy":return h+"."+i+"."+j;case"hh:mm":return g+":"+f;case"dd":return h;case"ddInMonth":return(new Date(j,i,0)).getDate();case"MM":return i;case"yyyy":return j;case"hh":return g;case"mm":return f;case"dawn":return c.setHours(0,0,0,0),c.getTime();default:return c.getTime()}}(function(a,b,c){var d=function(c){var d=null;typeof c=="string"?d=b.getElementById(c):typeof c=="object"&&(d=c);var e={onTouch:function(b,c){var e=c||{};"ontouchstart"in a?d.addEventListener("touchstart",function(a){e.tag=a.touches[0].target.tagName,dispatchCommand(b,e)},!1):d.addEventListener("mousedown",function(a){e.offsetX=a.offsetX||a.layerX,e.offsetY=a.offsetY||a.layerY,e.tag=a.target.tagName,dispatchCommand(b,e)},!1)},onDone:function(a,b){d.addEventListener("blur",function(c){b.value=c.target.value,b.target=c.target,dispatchCommand(a,b)},!1)},onWindow:function(a,c){var d="",e="";typeof b.hidden!="undefined"?(d="hidden",e="visibilitychange"):typeof b.mozHidden!="undefined"?(d="mozHidden",e="mozvisibilitychange"):typeof b.msHidden!="undefined"?(d="msHidden",e="msvisibilitychange"):typeof b.webkitHidden!="undefined"&&(d="webkitHidden",e="webkitvisibilitychange"),b.addEventListener(e,function(){c.hidden=b[d],dispatchCommand(a,c)})},onMSG:function(a,b){d.addEventListener("message",function(c){c.preventDefault(),b=c.data,b.origin=c.origin,b.source=c.source,dispatchCommand(a,b)},!1)},onClick:function(a,b){d.addEventListener("click",function(c){c.preventDefault(),c.stopPropagation(),c.currentTarget.hasAttribute("href")&&(b.href=c.currentTarget.getAttribute("href")),dispatchCommand(a,b)},!1)},onReturn:function(a,b){d.addEventListener("keydown",function(c){c.keyCode==13&&(c.preventDefault(),c.stopPropagation(),dispatchCommand(a,b))},!1)},onChange:function(b,c){var e=c||{};"addEventListener"in a?(d.addEventListener("change",function(a){e.value=a.target.value,e.id=a.target.id,dispatchCommand(b,e)},!1),d.addEventListener("keyup",function(a){e.value=a.target.value,e.id=a.target.id,dispatchCommand(b,e)},!1)):"attachEvent"in a&&(d.attachEvent("onchange",function(a){e.value=a.srcElement.value,e.id=a.srcElement.id,dispatchCommand(b,e)}),d.attachEvent("onkeyup",function(a){e.value=a.srcElement.value,e.id=a.srcElement.id,dispatchCommand(b,e)}))},onDOM:function(a,c){b.addEventListener("DOMContentLoaded",function(b){b.preventDefault(),dispatchCommand(a,c)},!1)},onDevice:function(a,c){b.addEventListener("deviceready",function(b){b.preventDefault(),dispatchCommand(a,c)},!1)},onLoad:function(a,b){d.addEventListener("load",function(c){dispatchCommand(a,b)},!1)},onResume:function(a,c){b.addEventListener("resume",function(b){b.preventDefault(),dispatchCommand(a,c)},!1)},onStage:function(a,b){var c=function(c){c.target.className.indexOf("middle")>-1&&(c.preventDefault(),dispatchCommand(a,b))};d.addEventListener("webkitTransitionEnd",c,!1),d.addEventListener("mozTransitionEnd",c,!1),d.addEventListener("msTransitionEnd",c,!1),d.addEventListener("oTransitionEnd",c,!1),d.addEventListener("transitionend",c,!1)},onTap:function(b,c){var e=c||{};"ontouchstart"in a?d.addEventListener("touchstart",function(a){e.type="start",e.startX=a.touches[0].clientX,e.startY=a.touches[0].clientY;var d=a.touches[0].target,f=c.watch.split(":");d[f[0]]!==f[1]&&(d=d.parentNode,d[f[0]]!==f[1]&&(d=d.parentNode)),d[f[0]]===f[1]&&(e.element=d),dispatchCommand(b,e)}):d.addEventListener("mousedown",function(a){e.type="start",e.offsetX=a.offsetX||a.layerX,e.offsetY=a.offsetY||a.layerY,e.startX=a.clientX,e.startY=a.clientY;var d=a.target,f=c.watch.split(":");d[f[0]]!==f[1]&&(d=d.parentNode,d[f[0]]!==f[1]&&(d=d.parentNode)),d[f[0]]===f[1]&&(e.element=d),dispatchCommand(b,e)}),"ontouchmove"in a?d.addEventListener("touchmove",function(a){e.type="move",e.clientX=a.touches[0].clientX,e.clientY=a.touches[0].clientY,dispatchCommand(b,e)}):d.addEventListener("mousemove",function(a){e.type="move",e.clientX=a.clientX,e.clientY=a.clientY,dispatchCommand(b,e)}),"ontouchend"in a?d.addEventListener("touchend",function(a){a.preventDefault(),e.type="end",dispatchCommand(b,e)}):d.addEventListener("mouseup",function(a){a.preventDefault(),e.type="end",dispatchCommand(b,e)})},html:function(a){d.innerHTML=a},text:function(a){return d.innerHTML="",d.appendChild(b.createTextNode(a)),DOM(d)},createChild:function(a){return b.createElement(a)},addOptions:function(a,c,e,f){var g=b.createDocumentFragment();if(!f)for(var h=a;h<=c;h++){var i=b.createElement("option");i.textContent=h<10?"0"+h:h,i.value=h,e==h&&(i.selected="selected"),g.appendChild(i)}return d.appendChild(g),DOM(d)},appendChild:function(a,b,c){var e=typeof a=="string"?this.createChild(a):a;for(var f in b)e.setAttribute(f,b[f]);return c&&(e.innerHTML=c),d.appendChild(e),e},addChild:function(a,b,c){var e=typeof a=="string"?this.createChild(a):a;for(var f in b)e.setAttribute(f,b[f]);return c&&(a=="textarea"?e.value=c:e.innerHTML=c),d.appendChild(e),DOM(e)},attrib:function(a){function b(b,c){d[a]=d[a].replace(b,c)}function c(b){d[a]+=" "+b}function e(b){d[a]=b}function f(b){d[a]=d[a].split(b).join("")}return{replace:b,add:c,remove:f,set:e}},translate:function(a){function b(c){for(var d=0;d<c.childNodes.length;d++){var e=c.childNodes[d];e.tagName=="LI"&&console.log("TODO LISTE");if(e.tagName=="P"){var f=e.innerHTML.trim();a[f]&&(e.innerHTML=a[f])}e.childNodes.length>0&&b(e)}}return b(d),d},width:function(){return parseInt(d.clientWidth)},style:function(a,b){d.style[a]=b},show:function(){return d.style.display="block",DOM(d)},hide:function(){return d.style.display="none",DOM(d)},removeElement:function(){d.parentNode.removeChild(d)},removeElements:function(){while(d.hasChildNodes())d.removeChild(d.lastChild);return DOM(d)},element:function(){return d}};return e};a.DOM=d,a.DO=d()})(this,document,undefined);
function Node(a){this.server=a}Node.prototype.readActorsByCredential=function(a,b,c){this.query("GET","/authenticate?"+a,b,c)},Node.prototype.readActorByRequestToken=function(a,b,c){this.query("GET","/authorize?requestToken="+a,b,c)},Node.prototype.findActorsForRoleId=function(){},Node.prototype.findActorsForScopeId=function(a,b,c,d){var e="/actors/scopeId/"+a;this.query("GET",e,c,d,null,b)},Node.prototype.findActorForId=function(){},Node.prototype.updateActorById=function(a,b,c,d){var e="/actors/"+a;this.query("PUT",e,c,d,b)},Node.prototype.listActsForAntagonistId=function(a,b,c,d){var e="/acts/antagonistId/"+a;e+=b?"?since="+b:"",this.query("GET",e,c,d)},Node.prototype.createAct=function(a,b,c){var d="/acts";this.query("POST",d,b,c,a)},Node.prototype.readAct=function(){},Node.prototype.updateAct=function(){},Node.prototype.deleteAct=function(a,b,c){var d="/acts/"+a.id;this.query("DELETE",d,b,c)},Node.prototype.actLikeEntity=function(a,b,c,d){var e="/acts/"+a+"/like/"+b;this.query("GET",e,c,d)},Node.prototype.actDislikeEntity=function(a,b,c,d){var e="/acts/"+a+"/dislike/"+b;this.query("GET",e,c,d)},Node.prototype.actClickEntity=function(a,b,c,d){var e="/acts/"+a+"/click/"+b;this.query("GET",e,c,d)},Node.prototype.findEntities=function(){},Node.prototype.findEntitiesById=function(){},Node.prototype.findEvaluationForEntity=function(a,b,c,d){var e="/entities/"+a+"/evaluation/"+b;this.query("GET",e,c,d)},Node.prototype.getDevice=function(a,b,c,d,e,f,g){var h="/logo/"+a+"/"+b;if(c||d||e)h+="?";c&&(h+="since="+c),d&&(h+="&protagonistId="+d),e&&(h+="&antagonistId="+e),this.query("GET",h,f,g)},Node.prototype.list=function(a,b){var c="/master/list";this.query("GET",c,a,b)},Node.prototype.listAtc=function(a,b,c){a=encodeURIComponent(a);var d="/master/"+a;this.query("GET",d,b,c)},Node.prototype.listForm=function(a,b,c){a=encodeURIComponent(a);var d="/master/"+a+"/form";this.query("GET",d,b,c)},Node.prototype.listName=function(a,b,c,d){a=encodeURIComponent(a),b=encodeURIComponent(b);var e="/master/"+a+"/"+b+"/name";this.query("GET",e,c,d)},Node.prototype.listMenge=function(a,b,c,d,e){a=encodeURIComponent(a),b=encodeURIComponent(b),c=encodeURIComponent(c);var f="/master/"+a+"/"+b+"/"+c+"/menge";this.query("GET",f,d,e)},Node.prototype.query=function(a,b,c,d,e,f){var g=new XMLHttpRequest;g.open(a,this.server+b,!0),e&&g.setRequestHeader("Content-Type","application/json"),f&&g.setRequestHeader("Authorization",f),g.onreadystatechange=function(){g.readyState==4&&(g.status==200&&g.responseText?c(JSON.parse(g.responseText)):d({status:g.status,message:g.statusText}))},g.send(JSON.stringify(e))};
function Svg(a){return this.element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.element.setAttribute("version","1.1"),this.element.setAttribute("id",a),this.model=new Model,this.paddingLeft=20,this.paddingRight=20,this.paddingTop=50,this.paddingBottom=50,this.minX=0,this.maxX=0,this.maxXRealtime=0,this.minY=0,this.maxY=100,this.chartWidth=0,this.scrollLeft=0,this}Svg.prototype.setContainer=function(a){document.getElementById(a).appendChild(this.element)},Svg.prototype.refresh=function(){this.removeElements(),this.drawCoordinates(),this.drawPunkte()},Svg.prototype.removeElements=function(){while(this.element.hasChildNodes())this.element.removeChild(this.element.lastChild)},Svg.prototype.drawCoordinates=function(){var a=864e5;this.minX=this.model.getMinX(),this.maxXRealtime=zeit()+432e5,this.maxX=Math.floor(this.maxXRealtime/a)*a;var b=this.getPixelForX(this.maxXRealtime,!0)+this.paddingRight;this.element.setAttribute("width",b),this.element.setAttribute("height",this.getPixelForY(this.minY,!0)+this.paddingBottom),this.drawKoordLine(zeit(),this.minY-5,zeit(),this.maxY+5,"rgba(220,220,220,0.4)");for(var c=this.minX;c<=this.maxXRealtime;c+=864e5){var d=this.maxXRealtime-864e5>c?a:this.maxXRealtime-c;this.drawWeekend(c,this.maxY,this.minX+d,this.minY),this.drawKoordLine(c,this.minY,c,this.maxY,"rgba(255,255,255,0.6)"),this.maxXRealtime>c+576e5&&this.drawLabelX(c,this.minY)}for(var e=0;e<=this.maxY;e+=20)this.drawKoordLine(this.minX,e,this.maxXRealtime,e,"rgba(255,255,255,0.6)");var f=this.element.parentNode.clientWidth;this.element.parentNode.scrollLeft==0&&(this.element.parentNode.scrollLeft=b-f),this.chartWidth=b},Svg.prototype.drawWeekend=function(a,b,c,d){var e=new Date(a);if(e.getDay()==6||e.getDay()==0){var f=this.getPixelForX(a,!0),g=this.getPixelForY(b,!0),h=this.getPixelForX(c,!1),i=this.getPixelForY(d,!1),j=document.createElementNS("http://www.w3.org/2000/svg","rect");j.setAttribute("x",f),j.setAttribute("y",g),j.setAttribute("width",h),j.setAttribute("height",i),j.setAttribute("fill","rgba(255,255,255,0.3)"),this.element.appendChild(j)}},Svg.prototype.drawLabelX=function(a,b){var c=this.getPixelForX(a,!0)+20,d=this.getPixelForY(b,!0)-10,e=document.createElementNS("http://www.w3.org/2000/svg","text");e.setAttribute("x",c),e.setAttribute("y",d),e.setAttribute("fill","rgba(255,255,255,0.7)"),e.textContent=zeit("dd",a)+"."+zeit("MM",a),this.element.appendChild(e)},Svg.prototype.drawPunkte=function(a){var b=this.model._data.acts.slice(0),c=dots2=b.length,d=null;while(c--){var e={id:b[c].entitiesId,x:b[c].zeit,y:b[c].wert};e.id=="diagnose"&&this.drawNotizen(e)}while(dots2--){var e={id:b[dots2].entitiesId,x:b[dots2].zeit,y:b[dots2].wert};if(e.id=="diagnose")continue;e.id=="privat"||e.id=="zyklus"?this.drawNotizen(e):e.id=="weight"||e.id=="bp"||e.id=="temperatur"||e.id=="stepcounter"||e.id=="oximeter"?this.drawDevice(e):(this.drawLine(e,d,19),this.drawPunkt(e),d={id:e.id,x:e.x,y:e.y})}delete b},Svg.prototype.drawDevice=function(a){var b=typeof a.y=="string"?JSON.parse(a.y):a.y,c=0;a.id=="weight"&&(c=b.weight),a.id=="stepcounter"&&(c=b.step),a.id=="bp"&&(c=b.systolic),c-=this.model.getType(a.id).min,c=100/this.model.getType(a.id).max*c+3;var d=this.getFarbwert(a.id),e=this.getPixelForX(a.x,!0),f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("class","movePoint"),f.setAttribute("x",e-6),f.setAttribute("y",this.getPixelForY(c,!0)),f.setAttribute("width",20),f.setAttribute("height",20),f.setAttribute("fill",d),f.setAttribute("stroke","rgba(255,255,255,1)"),f.setAttribute("stroke-width","2"),DOM(f).onTouch(Events.HOME_VERLAUF_SELECTED,a),this.element.appendChild(f)},Svg.prototype.drawNotizen=function(a){var b=0,c=0;a.id=="privat"&&(b=-1,c=110),a.id=="zyklus"&&(b=116,c=110),a.id=="diagnose"&&(b=99,c=27);var d=this.getFarbwert(a.id),e=this.getPixelForX(a.x,!0),f=document.createElementNS("http://www.w3.org/2000/svg","rect");f.setAttribute("class","movePoint"),f.setAttribute("x",e-15),f.setAttribute("y",this.getPixelForY(b,!0)),f.setAttribute("width",26),f.setAttribute("height",this.getPixelForY(c,!0)),f.setAttribute("fill",d),f.setAttribute("stroke","rgba(255,255,255,1)"),f.setAttribute("stroke-width","2"),DOM(f).onTouch(Events.HOME_VERLAUF_SELECTED,a),this.element.appendChild(f)},Svg.prototype.drawLine=function(a,b,c){var d=864e5;if(!a||!b)return;if(b.id!==a.id)return;if(a.x>b.x+d*3)return;var e=Number(this.getPixelForX(b.x,!0)),f=Number(this.getPixelForY(b.y,!0)),g=Number(this.getPixelForX(a.x,!0)),h=Number(this.getPixelForY(a.y,!0)),i=this.getFarbwert(a.id),j=this.getPaddingFromPoint(e,f,g,h,c);e+=j.x,g-=j.x,f+=j.y,h-=j.y;var k=document.createElementNS("http://www.w3.org/2000/svg","line");k.setAttribute("transform","translate(0 0)"),k.setAttribute("fill",i),k.setAttribute("stroke",i),k.setAttribute("stroke-width","4"),k.setAttribute("x1",e),k.setAttribute("y1",f),k.setAttribute("x2",g),k.setAttribute("y2",h),this.element.appendChild(k)},Svg.prototype.getPaddingFromPoint=function(a,b,c,d,e){var f=c-a,g=d-b>=0?d-b:b-d,h=Math.atan2(g,f),i=Math.cos(h)*e,j=Math.sin(h)*e;return d<b&&(j=-1*j),{x:i,y:j}},Svg.prototype.drawKoordLine=function(a,b,c,d,e){a=this.getPixelForX(a,!0),c=this.getPixelForX(c,!0),b=this.getPixelForY(b,!0),d=this.getPixelForY(d,!0);var f=document.createElementNS("http://www.w3.org/2000/svg","line");f.setAttribute("stroke",e),f.setAttribute("stroke-width","2"),f.setAttribute("x1",a),f.setAttribute("y1",b),f.setAttribute("x2",c),f.setAttribute("y2",d),this.element.appendChild(f)},Svg.prototype.drawPunkt=function(a){var b=this.getPixelForX(a.x,!0),c=this.getPixelForY(this.maxY,!0),d=this.getPixelForY(a.y,!1),e=this.getFarbwert(a.id),f=document.createElementNS("http://www.w3.org/2000/svg","circle");f.setAttribute("transform","translate(0 "+d+")"),f.setAttribute("class","movePoint"),f.setAttribute("stroke","rgba(255,255,255,1)"),f.setAttribute("r","17"),f.setAttribute("fill",e),f.setAttribute("stroke-width","2"),f.setAttribute("cx",b),f.setAttribute("cy",c),DOM(f).onTouch(Events.HOME_VERLAUF_SELECTED,a),this.element.appendChild(f)},Svg.prototype.getPixelForX=function(a,b){var c=this.paddingLeft;b||(c=0);var d=parseInt(1e-6*(a-this.minX));return Math.floor(c+d)},Svg.prototype.getXForPixel=function(a,b){var c=this.paddingLeft;b||(c=0);var d=a-c;return parseInt(d/1e-6)+this.minX},Svg.prototype.getPixelForY=function(a,b){var c=this.paddingTop;b||(c=0);var d=parseInt(2*(this.maxY-a));return Math.floor(c+d)},Svg.prototype.getYForPixel=function(a,b){var c=this.paddingTop;b||(c=0);var d=a-c;return this.maxY-parseInt(d/2)},Svg.prototype.getFarbwert=function(a){return this.model.getType(a).farbwert},Svg.prototype.getLegende=function(a,b){a-=20;var c=document.createElementNS("http://www.w3.org/2000/svg","polygon");c.id="box",c.setAttribute("visibility","hidden"),c.setAttribute("zIndex","10"),c.setAttribute("fill","rgba(100,100,100,0.8)"),c.setAttribute("stroke","rgba(204,204,204,0.8)");var d=a+","+b,e=a-15+","+(b-15),f=a-15+","+(b-30),g=a-200+","+(b-30),h=a-200+","+(b+100),i=a-15+","+(b+100),j=a-15+","+(b+15);c.setAttribute("visibility","visible"),c.setAttribute("points",d+" "+e+" "+f+" "+g+" "+h+" "+i+" "+j);var k=document.createElementNS("http://www.w3.org/2000/svg","text");k.setAttribute("visibility","hidden"),k.setAttribute("color","white"),k.setAttribute("fill","white"),k.setAttribute("font-size","1.2em"),svg.appendChild(k)};
function Agent(){this.device="Unknown",this.os="Unknown",this.browser="Unknown",this.version=0,this.can=[],this.parse()}Agent.prototype.parse=function(){/iPhone/i.test(navigator.userAgent)&&(this.device="Mobile"),/iPad/i.test(navigator.userAgent)&&(this.device="Tablet"),/Android/i.test(navigator.userAgent)&&(this.device=/Android.*Mobile/i.test(navigator.userAgent)?"Mobile":"Tablet"),/BlackBerry/i.test(navigator.userAgent)&&(this.device="Mobile",this.os="RIM"),/PlayBook/i.test(navigator.userAgent)&&(this.device="Tablet",this.os="RIM"),/Kindle|Kindle Fire/i.test(navigator.userAgent)&&(this.device="Tablet"),/Opera Mobi/i.test(navigator.userAgent)&&(this.device="Mobile"),/Windows Phone/i.test(navigator.userAgent)&&(this.device="Mobile",this.os="Windows"),/IEMobile/i.test(navigator.userAgent)&&(this.device="Mobile",this.os="Windows"),/MeeGo/i.test(navigator.userAgent)&&(this.device="Mobile"),/(nuhk)|(GoogleBot)|(YammyBot)|(OpenBot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/i.test(navigator.userAgent)&&(this.device="Bot"),/Firefox[\/\s](\d+)(\.\d+)+/.test(navigator.userAgent)&&(this.browser="Firefox",this.version=new Number(RegExp.$1)),/MSIE (\d+)(\.\d+)+;/.test(navigator.userAgent)&&(this.browser="Internet Explorer",this.version=new Number(RegExp.$1)),/Opera[\/\s](\d+)(\.\d+)+/.test(navigator.userAgent)&&(this.browser="Opera",this.version=new Number(RegExp.$1)),/Safari/.test(navigator.userAgent)&&(this.browser="Safari",/Version\/(\d+)(\.\d+)+/.test(navigator.userAgent)&&(this.version=new Number(RegExp.$1))),/Chrome[\/\s](\d+)(\.\d+)+/.test(navigator.userAgent)&&(this.browser="Chrome",this.version=new Number(RegExp.$1)),this.device=="Unknown"&&(/Windows NT (\d\.)/i.test(navigator.userAgent)&&(this.os="Windows",this.device="Desktop"),/(Linux)|(X11)/.test(navigator.userAgent)&&(this.os="Linux",this.device="Desktop"),/(Mac_PowerPC)|(Macintosh)|(Mac OS)/i.test(navigator.userAgent)&&(this.os="Mac OS",this.device="Desktop"));if(navigator.mimeTypes&&navigator.mimeTypes.length){var a=navigator.mimeTypes["application/x-shockwave-flash"];a&&a.enabledPlugin&&this.can.push("Flash")}!document.createElement("video").canPlayType||this.can.push("HTML5")},Agent.prototype.capable=function(a){var b=this.can.length;while(b--)if(this.can[b]===a)return!0;return!1},Agent.prototype.isDevice=function(a){return this.device===a},Agent.prototype.isLandscape=function(){return this.isDevice("Mobile")&&document.documentElement.clientWidth>document.documentElement.clientHeight};
var Assets={busy:function(a){var b=document.createElement("div");for(var c=0;c<12;c++){var d=document.createElement("div");d.className="spinner",this.setStylePrefix(d,"transform","rotate("+c*30+"deg) translate(0, -120%)"),c==0?this.setStylePrefix(d,"animationDelay","0s"):this.setStylePrefix(d,"animationDelay",c/12+"s"),b.appendChild(d)}return b},busyDiv:function(a){var b=document.createElement("div");return b.setAttribute("id",a),b.style.display="none",b.style.position="absolute",b.style.left="50%",b.style.top="50%",b.style.width="100px",b.style.height="100px",b.style["margin-left"]="-50px",b.style["margin-top"]="-50px",b.appendChild(this.busy()),b},error:function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("version","1.1");var b=document.createElementNS("http://www.w3.org/2000/svg","circle");b.setAttribute("fill","rgba(255,55,55,0.6)"),b.setAttribute("stroke","#FFFFFF"),b.setAttribute("stroke-width","0"),b.setAttribute("cx","30"),b.setAttribute("cy","30"),b.setAttribute("r","27"),a.appendChild(b);var c=document.createElementNS("http://www.w3.org/2000/svg","polygon");return c.setAttribute("fill","rgba(255,255,255,0.8)"),c.setAttribute("points","15,15 20,15 30,25 40,15 45,15 45,20 35,30 45,40 45,45 40,45 30,35 20,45 15,45 15,40 25,30 15,20 15,15"),a.appendChild(c),a},caret:function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("version","1.1");var b=document.createElementNS("http://www.w3.org/2000/svg","polyline");return b.setAttribute("stroke","rgba(150,150,150,1)"),b.setAttribute("stroke-width","10"),b.setAttribute("fill","none"),b.setAttribute("points","15,5 45,30 15,55"),a.appendChild(b),a},antiCaret:function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("version","1.1");var b=document.createElementNS("http://www.w3.org/2000/svg","polyline");return b.setAttribute("stroke","rgba(150,150,150,1)"),b.setAttribute("stroke-width","10"),b.setAttribute("fill","none"),b.setAttribute("points","45,5 15,30 45,55"),a.appendChild(b),a},play:function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%");var b=document.createElementNS("http://www.w3.org/2000/svg","path");return b.setAttribute("fill","rgba(255,255,255,1)"),b.setAttribute("stroke","rgba(204,204,204,0.8)"),b.setAttribute("stroke-width","1"),b.setAttribute("d","M 15 30 L 15 15 C 15 5, 20 6, 25 10 L 45 25 C 50 28, 50 32, 45 35 L 25 50 C 20 55, 15 54, 15 45 L 15 30 Z"),a.appendChild(b),a},close:function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox","0 0 60 60"),b.setAttribute("width",a+"%"),b.setAttribute("height",a+"%"),b.style.position="absolute",b.style.right=-0.4*a+"%",b.style.top=-0.4*a+"%";var c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.setAttribute("fill","rgba(105,105,105,0.8)"),c.setAttribute("stroke","#FFFFFF"),c.setAttribute("stroke-width","6"),c.setAttribute("cx","30"),c.setAttribute("cy","30"),c.setAttribute("r","27"),b.appendChild(c);var d=document.createElementNS("http://www.w3.org/2000/svg","polygon");return d.setAttribute("fill","rgba(100,100,100,0.8)"),d.setAttribute("stroke","#FFFFFF"),d.setAttribute("stroke-width","8"),d.setAttribute("points","15,45 30,30 15,15 30,30 45,15 30,30 45,45 30,30"),b.appendChild(d),b},fullScreen:function(){function c(a){a.target.setAttributeNS(null,"x","10"),a.target.setAttributeNS(null,"y","10"),a.target.setAttributeNS(null,"width","40"),a.target.setAttributeNS(null,"height","40")}function d(a){a.target.setAttributeNS(null,"x","15"),a.target.setAttributeNS(null,"y","15"),a.target.setAttributeNS(null,"width","30"),a.target.setAttributeNS(null,"height","30")}var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%");var b=document.createElementNS("http://www.w3.org/2000/svg","rect");return b.setAttribute("fill","rgba(100,100,100,0.8)"),b.setAttribute("stroke","#CCCCCC"),b.setAttribute("stroke-width","2"),b.setAttribute("x","15"),b.setAttribute("y","15"),b.setAttribute("width","30"),b.setAttribute("height","30"),b.addEventListener("mouseover",c,!1),b.addEventListener("mouseout",d,!1),a.appendChild(b),a},pause:function(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 60 60"),a.setAttribute("width","100%"),a.setAttribute("height","100%");var b=document.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("fill","rgba(100,100,100,0.8)"),b.setAttribute("stroke","#CCCCCC"),b.setAttribute("stroke-width","2"),b.setAttribute("x","5"),b.setAttribute("y","10"),b.setAttribute("width","20"),b.setAttribute("height","40"),a.appendChild(b);var c=document.createElementNS("http://www.w3.org/2000/svg","rect");return c.setAttribute("fill","rgba(100,100,100,0.8)"),c.setAttribute("stroke","#CCCCCC"),c.setAttribute("stroke-width","2"),c.setAttribute("x","35"),c.setAttribute("y","10"),c.setAttribute("width","20"),c.setAttribute("height","40"),a.appendChild(c),a},likes:function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");b.setAttribute("viewBox","0 0 70 50"),b.setAttribute("width","100%"),b.setAttribute("height","100%");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("fill","rgba(255,255,255,0.9)"),c.setAttribute("stroke","rgba(204,204,204,0.8)"),c.setAttribute("stroke-width","2"),c.setAttribute("d","M23,8 L23,12 28,24 34,24 36,31 34,38 30,38 24,42 18,43C18,43 12,41 15,38 C15,38 10,36 14,32 C14,32  8,30 13,26 C13,26  6,19 20,21C20,21 14,6  21,8z"),b.appendChild(c);if(a>0){var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("id","like"),d.setAttribute("x","28"),d.setAttribute("y","20"),d.setAttribute("font-family","Verdana"),d.setAttribute("font-size","12"),d.setAttribute("fill","rgba(204,204,204,0.8)"),d.textContent="+"+a,b.appendChild(d)}return b},getIcon:function(a,b){var c=document.createElement("img");return c.src="img/icon/"+a+".png",c.width=b,c.height=b,c},setStylePrefix:function(a,b,c){var d=["Webkit","Moz","Ms","O"];d.forEach(function(d){a.style[d+b[0].toUpperCase()+b.slice(1)]=c}),a.style[b]=c}};
